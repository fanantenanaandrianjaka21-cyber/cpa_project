(function(_ds){var window=this;var $Da=function(a){let b='<devsite-dropdown-list aria-label="Bookmark collections drop down" ellipsis checkboxes fetchingitems="true"';a.iK&&(b=b+' writable addItemText="'+_ds.Mv("Nouvelle collection"),b+='"');b=b+'><span data-label="devsite-bookmark-direct-action" data-title="'+_ds.Mv("Enregistrer la page");b=b+'" class="material-icons bookmark-icon bookmark-action" slot="toggle">bookmark_border</span><span data-label="devsite-bookmark-direct-action" data-title="'+_ds.Mv("D\u00e9senregistrer la page");
return(0,_ds.N)(b+'" hidden class="material-icons bookmark-icon unbookmark-action toggled" slot="toggle">bookmark</span></devsite-dropdown-list>')},aEa=function(a){const b=a.isSignedIn,c=a.Vc;var d=a.Oi;const e=a.Co;var f=a.qd;const g=a.gL,h=a.iz,k=a.Qy,l=a.Zm,m=a.Ym;a=a.dismissButton;const n=_ds.S(_ds.cw(),'<devsite-dialog class="devsite-bookmark-dialog" id="devsite-bookmark-dialog"><div class="devsite-dialog-contents">');c&&(_ds.S(n,'<h3 class="no-link">'),b?_ds.S(n,_ds.O(g)):_ds.U(n,"Connectez-vous pour l'ajouter aux favoris"),
_ds.S(n,"</h3>"));f=b?c?_ds.O(k):_ds.O(f):_ds.O(h);d=b?c?'<button class="button-primary create-profile">'+_ds.O(d)+"</button>":'<button class="button-primary change-account">'+_ds.O(m)+"</button>":'<button class="button button-primary sign-in-button">'+_ds.O(l)+"</button>";_ds.S(_ds.U(_ds.S(n,"<p>"),f),"</p>"+(b&&c?"<p>"+_ds.O(e)+"</p>":"")+'</div><div class="devsite-dialog-buttons">'+d+'<button class="button devsite-dialog-close">'+_ds.O(a)+"</button></div></devsite-dialog>");return n},bEa=function(a){const b=
a.dismissButton;a='<devsite-dialog class="devsite-bookmark-dialog" id="devsite-bookmark-error-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">Un probl\u00e8me est survenu</h3><p>'+(_ds.O(a.error)+'</p></div><div class="devsite-dialog-buttons"><button class="button devsite-dialog-close">'+_ds.O(b)+"</button></div></devsite-dialog>");return(0,_ds.N)(a)},cEa=function(a){const b=a.AN;a=a.Uv;const c=_ds.S(_ds.cw(),'<devsite-dialog class="devsite-bookmark-dialog devsite-receive-updates-dialog" id="devsite-receive-updates-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">');
_ds.U(c,"Recevoir les notes de version par e-mail\u00a0?");_ds.S(_ds.U(_ds.S(c,"</h3><p>"),_ds.O(b)),'</p></div><div class="devsite-dialog-buttons"><button class="button-primary" id="confirm-receive-updates">');_ds.U(c,"Oui");_ds.S(c,'</button><button class="button devsite-dialog-close">'+_ds.O(a)+"</button></div></devsite-dialog>");return c};var dEa=async function(a){const b=document.body.querySelector(".devsite-page-title,.devsite-playlist-title,.devsite-quiz-title,[layout=docs] .devsite-article h1:first-of-type");let c;const d=a.parentElement&&((c=a.parentElement)==null?void 0:c.matches("devsite-feature-tooltip"));b?(await (await _ds.v()).hasMendelFlagAccess("Concierge","enable_actions_menu")||(d?(a.ea=!0,a.parentElement&&b.after(a.parentElement)):(a.ea=!0,b.after(a))),a.ea=!1):d?a.parentElement.remove():a.remove()},eEa=async function(a){const b=
await (await _ds.v()).hasMendelFlagAccess("Concierge","enable_actions_menu");if(!a.va&&(a.article=document.body.querySelector(".devsite-article"),!b)){let d;(d=a.article)==null||d.setAttribute("has-bookmark","")}a.classList.add("show");let c;a.parentElement&&((c=a.parentElement)==null?0:c.matches("devsite-feature-tooltip"))&&a.parentElement.classList.add("inline-block");_ds.bq(a,$Da,{iK:!a.path});a.j=a.querySelector("devsite-dropdown-list");a.j&&(a.j.addItemDisabledTooltipText=_ds.PL)},jEa=async function(a){a.eventHandler.listen(a,
"DropdownToggled",b=>{b=b.getBrowserEvent();if((b==null?void 0:b.detail).open){let c;a.ua=(c=b.target.shadowRoot)==null?void 0:c.firstElementChild;fEa(a)}});a.eventHandler.listen(a,"DropdownAddItem",b=>{gEa(a,b)});a.eventHandler.listen(a,"DropdownItemToggled",b=>{hEa(a,b)});a.eventHandler.listen(document.querySelector("devsite-collection-list")||document.body,["devsite-collection-created","devsite-collection-deleted"],b=>{b=b.getBrowserEvent();if(b.type==="devsite-collection-created")try{const c=
TS(a,b.detail);let d;(d=a.j)==null||d.listItems.splice(1,0,c);US(a)}catch(c){}else a.j&&iEa(a,b.detail)})},lEa=async function(a){var b=_ds.B();if(b.searchParams.get("bookmark")){var c=await _ds.GL(_ds.HL);c&&await VS(a,`profiles/${c}/collections/default`,!0);b.searchParams.delete("bookmark");_ds.wl(b.toString(),!0,!1)}if(await (await _ds.v()).isSignedIn()&&(c=await a.Fa(),c!=null&&c.Ca())){b=a.path||"";if(!b)try{b=await _ds.Wr(_ds.B().href)}catch(e){}c=(c==null?void 0:c.Ca())||"";var d=new _ds.Ss;
try{const e=await d.getPath({path:b,profileId:c});if(e==null?0:e.collections)a.o=new Set([...e.collections,...a.o]);(e==null?void 0:e.saveStatus)==="SAVED"&&a.setAttribute("saved","")}catch(e){}await kEa(a)}},WS=function(a){var b;const c=(b=a.j)==null?void 0:b.querySelector(".bookmark-action");let d;b=(d=a.j)==null?void 0:d.querySelector(".unbookmark-action");c&&b&&(a.o.size>0?(c.hidden=!0,b.hidden=!1):(c.hidden=!1,b.hidden=!0))},fEa=async function(a){var b=await (await _ds.v()).isSignedIn();let c=
!0;b&&(c=await a.Vc());if(!c||!await a.Fa()){b&&c&&XS(a,"Callout Profile intro");var d=document.body.querySelector("#devsite-bookmark-dialog");d||(d=_ds.dq(aEa,{isSignedIn:b,Vc:c,Oi:"Cr\u00e9er un compte",Co:"Rejoignez le programme Google\u00a0Developers",qd:_ds.Xf('Ce compte n\'est pas \u00e9ligible au programme Google\u00a0Developers. Veuillez contacter votre administrateur. <a href="https://developers.google.com/profile/help/faq#why_am_i_unable_to_create_a_profile_with_my_google_workspace_account" target="_blank">En savoir plus</a>'),
gL:"Rejoignez le programme Google\u00a0Developers pour ajouter la page \u00e0 vos favoris",iz:"Vous devez \u00eatre connect\u00e9 pour enregistrer les pages que vous consultez fr\u00e9quemment avec le programme Google\u00a0Developers.",Qy:"Enregistrez les pages que vous consultez fr\u00e9quemment en rejoignant le programme Google\u00a0Developers.",Zm:"Se connecter",Ym:"Changer de compte",dismissButton:"Ignorer"}),document.body.appendChild(d),d.j=a.ua,(b=d.querySelector(".create-profile"))&&a.eventHandler.listen(b,
"click",async()=>{d&&(d.open=!1);let e=null;try{e=await _ds.DL(!1,!1,a.ua)}catch(f){}e&&e.Ca()&&(await _ds.HL.Fa(!0),await VS(a,`profiles/${e.Ca()}/collections/default`,!0),await a.reset())}),(b=d.querySelector(".sign-in-button"))&&a.eventHandler.listen(b,"click",async e=>{e.preventDefault();e.stopPropagation();e=_ds.B();e.searchParams.set("bookmark","1");_ds.wl(e.toString(),!0,!1);await (await _ds.v()).signIn()}),(b=d.querySelector(".change-account"))&&a.eventHandler.listen(b,"click",async e=>{e.preventDefault();
e.stopPropagation();e=_ds.B();e.searchParams.set("bookmark","1");_ds.wl(e.toString(),!0,!1);await (await _ds.v()).changeAccount()}),(b=d.querySelector(".devsite-dialog-close"))&&a.eventHandler.listen(b,"click",()=>{a.toggleAttribute("saved");XS(a,"Callout Profile dismissed")}));if(a.xa=d)d.open=!0;a.j&&(a.j.lc=!1)}},gEa=async function(a,b){var c;b=(c=b.getBrowserEvent())==null?void 0:c.detail;a.j&&(a.j.fetchingItems=!0);try{var d=_ds.jC(new _ds.kC,b.title);var e=_ds.qi(d,4,2);var f=await _ds.JL(e)}catch(k){}a.j&&
(a.j.fetchingItems=!1);if(f){c=(new _ds.Ys("Collection {COLLECTION_TITLE} cr\u00e9\u00e9e.")).format({COLLECTION_TITLE:f.getTitle()});YS(a,c);a.Da({category:"profile: saved pages",action:"collection created",label:window.location.href});f=TS(a,f);var g;(g=a.j)==null||g.listItems.push(f);var h;(h=a.j)==null||h.Sb();US(a)}else YS(a,"Une erreur s'est produite. La collection n'a pas \u00e9t\u00e9 cr\u00e9\u00e9e.")},hEa=async function(a,b){let c;b=(c=b.getBrowserEvent())==null?void 0:c.detail;await VS(a,
(b==null?void 0:b.value)||"",b.checked)},iEa=function(a,b){a.j&&(a.j.listItems=a.j.listItems.filter(c=>c.id!==b.name),a.o.delete(b.name),US(a))},YS=function(a,b){a.dispatchEvent(new CustomEvent("devsite-show-custom-snackbar-msg",{detail:{msg:b,linkText:void 0,href:void 0,showClose:!0},bubbles:!0,composed:!0}))},XS=function(a,b,c){b=Object.assign({},{category:"Site-Wide Custom Events",action:b,label:"Saving Widget Callout"},c||{});a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:b,
bubbles:!0}))},VS=async function(a,b,c){var d=await a.Fa();if(d){c?a.o.add(b):a.o.delete(b);WS(a);var e=a.qa;a.qa=a.o.size>0;e!==a.qa&&a.Da({category:"Site-Wide Custom Events",action:a.qa?"Saving Page to Profile":"Removing Saved Page from Profile",label:"Saving Widget"});d=await mEa(a,d);a.Da({category:"Site-Wide Custom Events",action:c?"Saving Page to Collection":"Removing Saved Page from Collection",label:"Saving Widget"});if(await (await _ds.v()).hasMendelFlagAccess("Profiles","enable_release_notes_notifications")&&
(d==null?void 0:d.saveStatus)==="SAVED"&&await nEa(a)){a.m=await oEa(a);const g=new _ds.sg;a.m.addEventListener("devsite-dialog-hide",()=>{g.resolve()},{once:!0});a.m&&(a.m.open=!0);await g.promise;a.m&&(a.m.open=!1,a.m.remove(),a.m=null)}var f;if(d=(f=a.j)==null?void 0:f.listItems.find(g=>g.id===b))d.checked=c;if(c){let g;await ((g=document.querySelector("#devsite-view-saved-pages"))==null?void 0:g.Ia())}a.dispatchEvent(new CustomEvent(c?"devsite-bookmarked-path":"devsite-unbookmarked-path",{bubbles:!0,
composed:!0,detail:{collectionName:b}}))}},oEa=async function(a){let b=document.body.querySelector("#devsite-receive-updates-dialog");b||(b=_ds.dq(cEa,{AN:_ds.Xf('Souhaitez-vous recevoir par e-mail des informations sur les notes de version qui concernent les produits \u00e9ligibles enregistr\u00e9s dans votre profil du programme Google\u00a0Developers\u00a0? <a href="https://developers.google.com/profile/help#what_is_a_release_note" target="_blank">En savoir plus</a>'),Uv:"Annuler"}),document.body.appendChild(b));
b.j=a.ua;const c=new _ds.$E,d=await _ds.Wr(_ds.B().href);var e=b.querySelector("#confirm-receive-updates");e&&a.eventHandler.listen(e,"click",async()=>{const f=new _ds.JD;_ds.ID(_ds.qi(f,38,2),_ds.sA(new _ds.qA,"page_update_email_preference"));try{await _ds.QE(c,f),a.m&&(a.m.open=!1),a.Da({category:"Site-Wide Custom Events",action:"Developer Profile Release Note email: accepted",label:`${d}`})}catch(g){}});(e=b.querySelector(".devsite-receive-updates-dialog .devsite-dialog-buttons .devsite-dialog-close"))&&
a.eventHandler.listen(e,"click",()=>{a.Da({category:"Site-Wide Custom Events",action:"Developer Profile Release Note email: dismissed",label:`${d}`})});try{const f=await a.Fa();let g;await _ds.NE(c,(g=f==null?void 0:f.Ca())!=null?g:"","AckPageUpdateFeaturePopupSeen",Date.now())}catch(f){}return b},mEa=async function(a,b){if(b==null||!b.Ca())return null;let c;c=a.o.size>0?"SAVED":"UNSAVED";let d=a.path||"";if(!d)try{d=await _ds.Wr(_ds.B().href)}catch(h){}const e=new _ds.Ss;let f=null;const g=[];g.push(...a.o);
try{f=await e.Ys({path:d,status:c,profileId:b.Ca(),collections:g})}catch(h){XS(a,"Callout Profile error",{label:"Saving Widget Callout Error"}),b=document.body.querySelector("#devsite-bookmark-error-dialog"),b||(b=_ds.dq(bEa,{error:"Un probl\u00e8me est survenu lors de l'enregistrement de la page.",dismissButton:"Ignorer"}),document.body.appendChild(b)),a.ra=b,a.ra&&(a.ra.open=!0),a.toggleAttribute("saved")}return f},kEa=async function(a){if(a.j){a.j.fetchingItems=!0;var b=await _ds.IL();a.j.fetchingItems=
!1;b&&(b=b.map(c=>TS(a,c)),b.sort((c,d)=>{let e;if((e=c.id)==null?0:e.endsWith("default"))return-1;let f;return((f=d.id)==null?0:f.endsWith("default"))?1:c.updatedDate>d.updatedDate?-1:1}),a.j.listItems=b,US(a))}},TS=function(a,b){const c=b.getName()||"";let d;return{id:c,title:b.getTitle()||"",updatedDate:`${((d=_ds.Sh(b,_ds.Pq,5))==null?void 0:_ds.Qq(d).getTime())||0}`,checked:!(!c||!a.o.has(c))}},US=function(a){a.j&&(a.j.addItemDisabled=a.j.listItems.length>=20)},nEa=async function(a){if(a=await a.Fa()){var b=
new _ds.$E,c;b=await _ds.ME(b,(c=a==null?void 0:a.Ca())!=null?c:"",["AckPageUpdateFeaturePopupSeen"]);var d,e;return(new Date((d=b==null?void 0:b.AckPageUpdateFeaturePopupSeen)!=null?d:0)).getTime()+5184E6<Date.now()&&(a==null?void 0:(e=_ds.fi(a,33,_ds.Qh()))==null?void 0:e.includes("profile.page_update_email_preference"))}},pEa=class extends _ds.Hj{constructor(){super(["devsite-snackbar","devsite-dialog","devsite-fast-track-profile-creator"]);this.eventHandler=new _ds.D;this.m=this.ra=this.xa=this.article=
null;this.qa=!1;this.j=null;this.o=new Set;this.path=null;this.va=!1;this.ua=null;this.ea=!1}static get observedAttributes(){return["saved","is-inline-bookmark"]}async connectedCallback(){if(!this.ea){if(this.getAttribute("path"))this.path=this.getAttribute("path");else if(await dEa(this),!this.isConnected)return;await eEa(this);await jEa(this);await lEa(this);WS(this)}}disconnectedCallback(){if(!this.ea){this.eventHandler.removeAll();var a;(a=this.xa)==null||a.remove();var b;(b=this.ra)==null||b.remove();
var c;(c=this.m)==null||c.remove();var d;(d=this.article)==null||d.removeAttribute("has-bookmark")}}async reset(){this.article=null;_ds.wk(this);this.disconnectedCallback();await this.connectedCallback()}attributeChangedCallback(a,b,c){a==="saved"?(this.qa=c!==null,WS(this)):a==="is-inline-bookmark"&&(this.va=c!==null)}async Vc(){if(!await (await _ds.v()).isSignedIn())return!1;const a=new _ds.DE;let b=null;try{b=await a.hc()}catch(e){}let c,d;return((c=b)==null?void 0:(d=c.createProfile)==null?void 0:
d.status)==="ELIGIBILITY_ELIGIBLE"}async Fa(){if(await this.Vc()){var a=new _ds.$E;try{let b;return(b=await _ds.RE(a,new _ds.DD))==null?void 0:b.Fa()}catch(b){}}}};try{customElements.define("devsite-bookmark",pEa)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteBookmark",a)};})(_ds_www);
