(function(_ds){var window=this;var E0=function(a,b){const c=[];for(const h of a)try{a=c;var d=a.push,e=b;const k=new URL(h),l=_ds.B();if(k.hostname!==l.hostname)throw Error("Recommendations must be from the same site.");var f=k.pathname;var g=_ds.Gt(_ds.Ht(new _ds.It,f),e.toString());d.call(a,g)}catch(k){}return c};var BPa=function(a){const b=a.xK,c=a.bI;a=a.jJ;let d;d='<h2 class="significatio-heading no-link">Recommandations personnalis\u00e9es</h2>';b!==""?(d=d+'<div class="info-container"><button type="button" class="button-flat info-button significatio-info-container" id="significatio-info-button" aria-label="'+_ds.Mv("\u00c0 propos des recommandations"),d=d+'" data-title="'+_ds.Mv("\u00c0 propos des recommandations"),d+='"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-icon-info"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg></button></div>'):
(d=d+'<div class="significatio-popout-container"><button type="button" class="significatio-popout-toggle button-flat significatio-info-container" id="significatio-popout-toggle" aria-haspopup="true" aria-controls="significatio-popout" aria-label="'+_ds.Mv("\u00c0 propos des recommandations"),d=d+'" data-title="'+_ds.Mv("\u00c0 propos des recommandations"),d+='"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-icon-info"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg></button><div class="significatio-popout" id="significatio-popout" aria-labelledby="significatio-popout-toggle" hidden><h4 class="significatio-popout-heading">\u00c0 propos de ces recommandations</h4><p>Ces recommandations vous aident \u00e0 trouver le contenu que vous recherchez. Elles peuvent \u00eatre bas\u00e9es sur la page que vous consultez actuellement et sur l\'historique de navigation de votre compte <a href="https://myactivity.google.com/activitycontrols/webandapp" class="significatio-popout-interactive">activit\u00e9 sur le Web et les applications</a>.</p><a href="http://go/devsite-recommendations" class="significatio-popout-interactive">En savoir plus</a></div></div>');
d+='<div class="significatio-buttons">';a&&(d+='<p class="significatio-internal-only">Interne uniquement</p>');c!==""&&(d=d+'<button type="button" class="significatio-issue-button button-flat" id="significatio-issue-button" aria-label="'+_ds.Mv("Signaler les recommandations de mauvaise qualit\u00e9"),d=d+'" data-title="'+_ds.Mv("Signaler les recommandations de mauvaise qualit\u00e9"),d+='"><span class="material-icons" aria-hidden="true">bug_report</span></button>');return(0,_ds.N)(d+"</div>")},CPa=
function(){return(0,_ds.N)('<div class="significatio-overview"></div><div class="significatio-body"><div class="significatio-recommendations"></div><div class="significatio-loading"><devsite-spinner size="64"></devsite-spinner></div></div>')},EPa=function(a){a=a.recommendations;const b=_ds.cw(),c=a.length;for(let d=0;d<c;d++)_ds.U(b,DPa(a[d]));return b},DPa=function(a){let b='<div class="significatio-card"><h3 class="significatio-card-heading no-link"><a href="'+_ds.R(_ds.Xv(a.getUrl()+"?"+_ds.z(a,
8)))+'" data-category="Site-Wide Custom Events" data-label="devsite-recommendation card link" data-action="click" track-type="recommendations" track-name="cardClick" track-metadata-eventdetail="'+_ds.R(a.getUrl())+'">';var c=[a.getTitle(),_ds.z(a,3),_ds.z(a,4)];b+=_ds.Iv(c.filter(d=>d.length>0)[0])+'</a></h3><p class="significatio-card-description">'+_ds.Iv(_ds.Kv(_ds.z(a,5)))+'</p><div class="significatio-card-meta">';c='Mise \u00e0 jour le <span class="significatio-date" date="'+(_ds.R(_ds.Sh(a,
_ds.Pq,7).getSeconds())+'"></span>');b+=c;if(_ds.Th(a,_ds.CO,11,_ds.Qh()).length!==0){b=b+'<span class="significatio-recommend-popout-container"><button type="button" class="significatio-popout-toggle button-flat significatio-attr-toggle" aria-haspopup="true" aria-controls="significatio-popout" aria-label="'+_ds.Mv("Pourquoi cette recommandation\u00a0?");b=b+'" data-title="'+_ds.Mv("Pourquoi cette recommandation\u00a0?");b+='"><i class="material-icons significatio-attr-info">help_outline</i></button><div class="significatio-popout significatio-attr" aria-labelledby="significatio-popout-toggle" hidden><h4 class="significatio-popout-heading">Pourquoi cette recommandation\u00a0?</h4><p>Parce que vous avez consult\u00e9 ';
a=_ds.Th(a,_ds.CO,11,_ds.Qh());c=a.length;for(let d=0;d<c;d++){const e=a[d];b+=' <a href="'+_ds.R(_ds.Xv(e.getUrl()))+'" class="significatio-popout-interactive" track-type="recommendations" track-name="attributionLink">'+_ds.Iv(e.getTitle())+"</a>"}b+=".</p></div></span>"}return(0,_ds.N)(b+"</div></div>")},FPa=function(a){var b=a.aO;a=_ds.S(_ds.U(_ds.S(_ds.cw(),'<div class="significatio-card error">'),(0,_ds.N)('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-error-icon"><path d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>')),
'<p class="significatio-card-description">');_ds.U(a,"Aucune recommandation pour l'instant.");_ds.S(a,'</p><p class="significatio-card-description">');b='<a href="#" class="'+_ds.R(b)+'">Connectez-vous</a> \u00e0 votre compte Google.';_ds.U(a,b);_ds.S(a,"</p></div>");return a};var GPa={"in-page":5},HPa=function(a){a.eventHandler.listen(document,"devsite-on-recommendations",b=>{G0(a)&&!a.Ga&&(b=b.getBrowserEvent())&&(b==null?0:b.detail)&&(0,_ds.GO)(b.detail)&&_ds.ei(b.detail,5)===5&&(a.m=b.detail,a.Ga=!0,a.removeAttribute("hidden"),a.render())})},G0=function(a){return!a.Aa&&document.querySelector("devsite-recommendations:not([yield])")?!1:!0},L0=async function(a,b){var c=[2,5,3];if(!a.ya&&c.some(h=>(b==null?void 0:_ds.ei(b,5))===h)&&((b==null?0:_ds.EO(b).length)&&a.dispatchEvent(new CustomEvent("devsite-on-recommendations",
{detail:b,bubbles:!0})),(b==null?void 0:_ds.ei(b,5))!==3)){a.remove();return}if(a.display&&GPa[a.display]!==(b==null?void 0:_ds.ei(b,5)))a.remove();else{c=a.querySelector(".significatio-overview");var d=b==null?void 0:_ds.z(b,6);a.qa=(b==null?void 0:_ds.z(b,7))||"";a.ea=(b==null?void 0:_ds.z(b,8))||"";var e=(b==null?void 0:_ds.ei(b,9))===1;c&&d?_ds.bq(c,BPa,{kJ:d,xK:a.qa,bI:a.ea,jJ:e}):await H0(a,!0,!0,"no title");if(b==null?0:_ds.EO(b).length){_ds.bq(a.j,EPa,{recommendations:_ds.EO(b)});IPa(a);a.o=
a.querySelector("#significatio-stats-button");if(b==null?0:_ds.z(b,4)){var f;(f=a.o)==null||f.removeAttribute("hidden");a.va=_ds.z(b,4)}else{let h;(h=a.o)==null||h.setAttribute("hidden","")}if(a.j){f=a.j.querySelectorAll(".significatio-recommend-popout-container");for(var g of f)I0(a,g)}(g=a.querySelector(".significatio-popout-container"))&&I0(a,g);JPa(a);J0(a);K0(a);a.removeAttribute("loading")}else await H0(a,!1)}},LPa=async function(a){a.setAttribute("loading","");await _ds.v();a.j&&_ds.wk(a.j);
const b=await KPa(a);let c=null;try{c=await _ds.Kt(b)}catch(d){await H0(a,!0,!1,"error fetching recommendations");return}a.m=c;await L0(a,c)},H0=async function(a,b=!0,c=!1,d=""){b&&_ds.Jl(d);c&&a.remove();await (await _ds.v()).isSignedIn()?a.remove():(_ds.bq(a.j,FPa,{aO:"significatio-sign-in"}),K0(a),J0(a),a.removeAttribute("loading"))},M0=async function(a,b){!a.ua.get(b)&&b&&(a.ua.set(b,!0),b.removeAttribute("active"),await _ds.Hl(),a.eventHandler.Kb(b,"transitionend",()=>{b.setAttribute("hidden",
"");a.ua.set(b,!1)}))},I0=function(a,b){const c=b.querySelector(".significatio-popout-toggle"),d=b.querySelector(".significatio-popout");c&&d&&(a.Ba.push(d),a.eventHandler.listen(d,"focusout",e=>{e.relatedTarget&&(_ds.Sk(e.relatedTarget,null,"significatio-popout",6)||M0(a,d))}),a.eventHandler.listen(c,"click",()=>{a.ua.get(d)||(d.hasAttribute("active")?M0(a,d):a.Ia(d))}))},KPa=async function(a){const b=(await _ds.v()).getTenantId()||0;return _ds.BO(_ds.AO(_ds.Uxa(_ds.Txa(_ds.Jt(b,window.location.pathname),
E0(a.xa.map(c=>c.href),b)),E0(a.ra.map(c=>c.href),b)),Number(a.getAttribute("generated"))||0),a.query())},IPa=function(a){if(a.j){a=[...a.j.querySelectorAll(".significatio-date")];for(const b of a)a=b.getAttribute("date"),b.textContent=(new Date(Number(a)*1E3)).toLocaleDateString("default",{month:"short",year:"numeric",day:"numeric"})}},JPa=function(a){var b=a.querySelector("#significatio-issue-button");b&&a.eventHandler.listen(b,"click",()=>void MPa(a));(b=a.querySelector("#significatio-info-button"))&&
a.eventHandler.listen(b,"click",()=>void NPa(a));a.o&&a.eventHandler.listen(a.o,"click",()=>{a.va&&_ds.xs(a.va,{target:"_blank"})});a.eventHandler.listen(document,"click",c=>{for(const d of a.Ba)!d.contains(c.target)&&d.hasAttribute("active")&&M0(a,d)})},J0=function(a){a.eventHandler.listen(a,"click",async b=>{_ds.Sk(b.target,null,"significatio-sign-in",2)&&await OPa()})},K0=function(a){if(a.j){a=[...a.j.querySelectorAll(".significatio-card:not([show])")];for(const b of a)b.setAttribute("show","")}},
OPa=async function(){await (await _ds.v()).signIn()},NPa=async function(a){a.qa&&_ds.xs(a.qa,{target:"_blank"})},MPa=async function(a){a.ea&&_ds.xs(a.ea,{target:"_blank"})},PPa=class extends _ds.Hj{constructor(){super();this.eventHandler=new _ds.D(this);this.Aa=!0;this.Ga=this.ya=this.Ka=this.connected=!1;this.xa=[];this.ra=[];this.m=this.j=null;this.display="";this.ua=new Map;this.Ba=[];this.o=this.va=null;this.ea=this.qa=""}connectedCallback(){this.connected=!0;this.xa=[...this.querySelectorAll("a[href]")];
this.ra=[...this.querySelectorAll('link[rel="disallow"][href]')];this.display=this.getAttribute("display");this.getAttribute("display")?this.getAttribute("display")==="in-page"&&(HPa(this),this.ya=!0):this.render()}disconnectedCallback(){document.body.dispatchEvent(new CustomEvent("devsite-recommendations-disconnected",{bubbles:!0}));this.eventHandler.removeAll();this.xa=[];this.ra=[]}static get observedAttributes(){return["yield","display"]}attributeChangedCallback(a,b,c){a==="yield"?this.Aa=c==
null:a==="display"&&(this.display=c);this.render()}query(){return this.getAttribute("query")||""}async render(){if(this.connected&&G0(this))if(_ds.bq(this,CPa),this.j=this.querySelector(".significatio-recommendations")){if(this.m?await L0(this,this.m):await LPa(this),!this.Ka){const b=await _ds.v();try{if(await b.intersectionEnterForElement(this.j),this.m!==null){var a;for(const c of(a=this.m)==null?void 0:_ds.EO(a)){const d=_ds.Lt(c);if(!d)continue;const e={category:"Site-Wide Custom Events",action:"recommended",
label:c.getUrl(),nonInteraction:!0,additionalParams:{recommendations:d}};this.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:e,bubbles:!0}));this.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",{detail:{type:"recommendations",name:"impression",metadata:d},bubbles:!0}))}this.Ka=!0}}catch(c){}}}else await H0(this,!0,!1,"no recommendations element")}async Ia(a){a.removeAttribute("hidden");await _ds.Hl();a.setAttribute("active","");let b;(b=a.querySelector(".significatio-popout-interactive"))==
null||b.focus()}};try{customElements.define("devsite-recommendations",PPa)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteRecommendations",a)};})(_ds_www);
